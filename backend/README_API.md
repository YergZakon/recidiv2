# Crime Prevention System API

üöî **REST API –¥–ª—è —Å–∏—Å—Ç–µ–º—ã —Ä–∞–Ω–Ω–µ–≥–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–π**

–û—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞ –∞–Ω–∞–ª–∏–∑–µ **146,570 –ø—Ä–∞–≤–æ–Ω–∞—Ä—É—à–µ–Ω–∏–π** –∏ **12,333 —Ä–µ—Ü–∏–¥–∏–≤–∏—Å—Ç–æ–≤**.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

### –ë–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
```bash
# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ endpoints
python3 test_api_simple.py

# –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è curl –∑–∞–ø—Ä–æ—Å–æ–≤  
./demo_api_requests.sh
```

### –° –ø–æ–ª–Ω—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ (–ø—Ä–æ–¥–∞–∫—à–Ω)
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install fastapi uvicorn pydantic sqlalchemy

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
python3 -m uvicorn app.main:app --reload --port 8000

# –ò–ª–∏ –ø—Ä—è–º–æ–π –∑–∞–ø—É—Å–∫
python3 app/main.py
```

## üìä –û—Å–Ω–æ–≤–Ω—ã–µ endpoints

### –†–∞—Å—á–µ—Ç —Ä–∏—Å–∫–∞
```bash
POST /api/risks/calculate
```
**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "iin": "123456789012",
  "pattern_type": "mixed_unstable",
  "total_cases": 5,
  "criminal_count": 2,
  "current_age": 28,
  "days_since_last": 60
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "risk_score": 5.760,
  "risk_level": "üü° –í—ã—Å–æ–∫–∏–π", 
  "recommendation": "–£—Å–∏–ª–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥",
  "components": {
    "pattern": 2.0,
    "history": 0.8,
    "time": 1.2,
    "age": 0.8,
    "social": 0.75,
    "escalation": 0.21
  }
}
```

### –ë—ã—Å—Ç—Ä–∞—è –æ—Ü–µ–Ω–∫–∞
```bash
POST /api/risks/quick-assessment
```
–£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º –Ω–∞–∏–±–æ–ª–µ–µ –≤–µ—Ä–æ—è—Ç–Ω–æ–≥–æ –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏—è.

### –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
POST /api/forecasts/timeline
```
–í—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫–Ω–∞ –¥–æ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–π.

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
```bash
GET /api/risks/statistics
```
–°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è 146,570 –Ω–∞—Ä—É—à–µ–Ω–∏–π.

## üîç –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å–∞–º:
- **Swagger UI:** http://localhost:8000/docs
- **ReDoc:** http://localhost:8000/redoc

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

```bash
# –ë–∞–∑–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
curl http://localhost:8000/health

# –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
curl http://localhost:8000/
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ê–≤—Ç–æ–Ω–æ–º–Ω—ã–µ —Ç–µ—Å—Ç—ã (–±–µ–∑ —Å–µ—Ä–≤–µ—Ä–∞)
python3 test_api_simple.py

# –¢–µ—Å—Ç—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º —Å–µ—Ä–≤–µ—Ä–æ–º
python3 tests/test_api_risks.py
```

## üéØ –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **100% –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å** —Ä–∞—Å—á–µ—Ç–æ–≤ —Å Streamlit –≤–µ—Ä—Å–∏–µ–π
- **–ü–æ–ª–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è** –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Pydantic
- **–ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- **–ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** –¥–æ 100 –ª–∏—Ü –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- **–ö–∞–ª–µ–Ω–¥–∞—Ä—å –ø—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∏** –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤
- **CORS –ø–æ–¥–¥–µ—Ä–∂–∫–∞** –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

–°—Ä–µ–¥–Ω–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏:
- **–†–∞—Å—á–µ—Ç —Ä–∏—Å–∫–∞:** ~50ms
- **–ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ:** ~100ms 
- **–ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞:** ~5ms –Ω–∞ –ª–∏—Ü–æ

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —Ä–∞–∑–º–µ—Ä –ø–∞–∫–µ—Ç–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –±–µ–∑ —É—Ç–µ—á–∫–∏ –¥–∞–Ω–Ω—ã—Ö

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É!

API –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–æ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å React —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ.